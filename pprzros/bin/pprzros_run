#! /usr/bin/env python

# For testing:
# rostopic echoc - --filter "m.msg_name=='PONG'" /to_ros
# TODO
# Change methods name to remove '_'

import sys

if __name__ == '__main__':
    interface_type = sys.argv[1]
    
    if interface_type == 'udp':
        from pprzros.rosudp2 import RosUdpMessagesInterface
        pprzros = RosUdpMessagesInterface()
        print 'Using UDP interface'
    elif interface_type == 'serial':
        from pprzros.rosserial import RosSerialMessagesInterface
        pprzros = RosSerialMessagesInterface()
        print 'Using Serial interface'
    elif interface_type == 'ivy':
        from pprzros.rosivy import RosIvyMessagesInterface
        pprzros = RosIvyMessagesInterface() 
        print 'Using Ivy interface'  
    else:
        print 'Unknown interface type: {}. Using UDP interface.'.format(interface_type)
        pprzros = RosUdpMessagesInterface()
        
    pprzros.run()

